"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _=require("lodash"),pluralize=require("pluralize"),v_utilities_1=require("v-utilities"),v_tools_1=require("v-tools"),createNumberMask_1=require("text-mask-addons/dist/createNumberMask"),VFieldHelper=function(){function s(){}return Object.defineProperty(s,"positiveDecimalMask",{get:function(){return createNumberMask_1.default({prefix:"",allowDecimal:!0,decimalLimit:15})},enumerable:!0,configurable:!0}),Object.defineProperty(s,"positiveIntegerMask",{get:function(){return createNumberMask_1.default({prefix:"",allowDecimal:!1})},enumerable:!0,configurable:!0}),s.positiveIntegerUnmask=function(e){return parseInt((e||0).toString().trim().replace(/\..*/g,"").replace(/[^\d]/g,""),10)},s.positiveDecimalUnmask=function(e){return parseFloat((e||0).toString().trim().replace(/[^\d\.]/g,""))},Object.defineProperty(s,"V_FIELD_TYPES",{get:function(){return{basic_input:{vInputType:"vInput",label:"Basic Input",hint:"Basic Input",editable:!0},applicability:{vInputType:"vSwitch",label:"Applicability Switch",hint:"Applicability Switch",editable:!1},date:{vInputType:"vDatepicker",label:"Date",hint:"Date",editable:!0,textMask:function(){return[/\d/,/\d/,/\d/,/\d/,"-",/[01]/,/\d/,"-",/[0123]/,/\d/]}},dollar_integer:{beforeAddon:"$",afterAddon:".00",vInputType:"vInput",label:"Dollar (round)",hint:"Dollar (round)",editable:!0,textMask:s.positiveIntegerMask,textUnmask:s.positiveIntegerUnmask},dollar_precise_decimal:{beforeAddon:"$",vInputType:"vInput",label:"Dollar (precise)",hint:"Dollar (precise)",editable:!0,textMask:s.positiveDecimalMask,textUnmask:s.positiveDecimalUnmask},positive_integer:{afterAddon:".0",vInputType:"vInput",label:"Positive Number (round)",hint:"Positive Number (round)",editable:!0,textMask:s.positiveIntegerMask,textUnmask:s.positiveIntegerUnmask},positive_decimal:{vInputType:"vInput",label:"Positive Number (precise)",hint:"Positive Number (precise)",editable:!0,textMask:s.positiveDecimalMask,textUnmask:s.positiveDecimalUnmask},percent:{afterAddon:"%",vInputType:"vInput",label:"Percentage",hint:"Percentage",editable:!0,textMask:s.positiveDecimalMask},percent_threshold:{afterAddon:"%",vInputType:"vInput",label:"Voting/Percent Threshold",hint:"Voting/Percent Threshold",editable:!0,textMask:s.positiveDecimalMask},textarea:{vInputType:"vInput",label:"Text Area",hint:"Text Area",editable:!0},organization_state:{vInputType:"vInput",label:"Organization State",hint:"Organization State",editable:!0},state_or_place:{vInputType:"vInput",label:"State or Place",hint:"State or Place",editable:!0},entity_type:{vInputType:"vInput",label:"Entity Type",hint:"Entity Type",editable:!0},period_type:{vInputType:"vInput",label:"Period Type",hint:"Period Type",editable:!0},hashes:{vInputType:"vHashes",label:"List/Hashes",hint:"List/Hashes",editable:!1},v_sig:{label:"V Sig",hint:"V Sig",editable:!1},form_copy:{vInputType:"vSwitch",label:"Form Copy",hint:"Form Copy",editable:!1},annotated_copy:{vInputType:"vSwitch",label:"Annotated Copy",hint:"Annotated Copy",editable:!1}}},enumerable:!0,configurable:!0}),Object.defineProperty(s,"V_FIELD_TYPES_COLLECTION",{get:function(){return _.reduce(s.V_FIELD_TYPES,function(e,a,i){return a.editable&&e.push([i,a.label||a.display_name]),e},[])},enumerable:!0,configurable:!0}),Object.defineProperty(s,"V_FIELD_HELPER_MAP",{get:function(){return{display_name:{},verbose_display_name:{},terse_display_name:{},label:{label:"Label",hint:"Label for input",placeholder:"E.g., Name of the Purchaser",as:"string"},hint:{label:"Hint",hint:"Additional information to be shown about this input",placeholder:"E.g., Name of the Purchaser",as:"string"},more_info:{label:"More Info",hint:"Optional - More information that is not shown by default but can be seen if the user clicks to get more information",placeholder:"E.g., Detailed information about this input and/or its context.",as:"text",rows:5},placeholder:{label:"Placeholder",hint:"Optional - Text that appears in the input when it is blank",placeholder:"E.g., grayed placeholder text",as:"string"},field_type:{label:"Field Type",hint:"Optional - To change the type of field, select the desired field type",placeholder:"To Override Field Type ...",other_input_options:{collection:s.V_FIELD_TYPES_COLLECTION,value_method:"first",label_method:"last",include_blank:"To Override Field Type ..."}},security_types:{},default_visible:{},fill_approach:{},dynamic_fill_approach_v_asset_types:[],api_maps:{label:"API Map",hint:"Optional - API map",placeholder:"E.g., drag API map handle",as:"hidden"},manually_calculable:{},step:{},step_field_order:{},as:{},required:{},input_html:{},other_input_options:{},custom_input_size:{},sum_type:{},adjusted:{},editable:{},display:{},display_with:{},ng_filter:{},use_formatters:{},formatters:{},input_formatters:{},js_formatters:{},input_processor:{},input_processors:{},dependency:{},dependency_value:{},dependencies:{},dependency_values:{},alt_dependencies:{},alt_dependency_values:{},source_path:{},general_search_ac_name_att:{},template_package:{},insert_id:{},readonlyDefault:{},optional_input:{}}},enumerable:!0,configurable:!0}),Object.defineProperty(s,"EDITABLE_V_FIELD_HELPER_ATTS",{get:function(){return["label","hint","more_info","placeholder"]},enumerable:!0,configurable:!0}),Object.defineProperty(s,"COUNTRY_CODES",{get:function(){return{us:{name:"United States",dialCode:1},bb:{name:"Barbados",dialCode:1},bm:{name:"Bermuda",dialCode:1},gu:{name:"Guam",dialCode:1},ag:{name:"Antigua and Barbuda",dialCode:1},ai:{name:"Anguilla",dialCode:1},ca:{name:"Canada",dialCode:1},ky:{name:"Cayman Islands",dialCode:1},jm:{name:"Jamaica",dialCode:1},gd:{name:"Grenada",dialCode:1},vi:{name:"Virgin Islands, U.S.",dialCode:1},pr:{name:"Puerto Rico",dialCode:1},as:{name:"American Samoa",dialCode:1},sx:{name:"Sint Maarten",dialCode:1},tt:{name:"Trinidad and Tobago",dialCode:1},vg:{name:"Virgin Islands, British",dialCode:1},lc:{name:"Saint Lucia",dialCode:1},vc:{name:"Saint Vincent And The Grenedines",dialCode:1},bs:{name:"Bahamas",dialCode:1},ms:{name:"Montserrat",dialCode:1},kn:{name:"Saint Kitts And Nevis",dialCode:1},dm:{name:"Dominica",dialCode:1},do:{name:"Dominican Republic",dialCode:1},mp:{name:"Northern Mariana Islands",dialCode:1},tc:{name:"Turks and Caicos Islands",dialCode:1},ru:{name:"Russian Federation",dialCode:7},kz:{name:"Kazakhstan",dialCode:7},eg:{name:"Egypt",dialCode:20},za:{name:"South Africa",dialCode:27},gr:{name:"Greece",dialCode:30},nl:{name:"Netherlands",dialCode:31},be:{name:"Belgium",dialCode:32},fr:{name:"France",dialCode:33},es:{name:"Spain",dialCode:34},hu:{name:"Hungary",dialCode:36},it:{name:"Italy",dialCode:39},va:{name:"Holy See (Vatican City State)",dialCode:39},ro:{name:"Romania",dialCode:40},ch:{name:"Switzerland",dialCode:41},at:{name:"Austria",dialCode:43},gg:{name:"Guernsey",dialCode:44},im:{name:"Isle of Man",dialCode:44},je:{name:"Jersey",dialCode:44},gb:{name:"United Kingdom",dialCode:44},dk:{name:"Denmark",dialCode:45},se:{name:"Sweden",dialCode:46},no:{name:"Norway",dialCode:47},sj:{name:"Svalbard And Jan Mayen",dialCode:47},pl:{name:"Poland",dialCode:48},de:{name:"Germany",dialCode:49},pe:{name:"Peru",dialCode:51},mx:{name:"Mexico",dialCode:52},cu:{name:"Cuba",dialCode:53},ar:{name:"Argentina",dialCode:54},br:{name:"Brazil",dialCode:55},cl:{name:"Chile",dialCode:56},co:{name:"Colombia",dialCode:57},ve:{name:"Venezuela, Bolivarian Republic of",dialCode:58},my:{name:"Malaysia",dialCode:60},cx:{name:"Christmas Island",dialCode:61},cc:{name:"Cocos (Keeling) Islands",dialCode:61},au:{name:"Australia",dialCode:61},id:{name:"Indonesia",dialCode:62},ph:{name:"Philippines",dialCode:63},nz:{name:"New Zealand",dialCode:64},sg:{name:"Singapore",dialCode:65},th:{name:"Thailand",dialCode:66},jp:{name:"Japan",dialCode:81},kr:{name:"Korea, Republic of",dialCode:82},vn:{name:"Vietnam",dialCode:84},cn:{name:"China",dialCode:86},tr:{name:"Turkey",dialCode:90},in:{name:"India",dialCode:91},pk:{name:"Pakistan",dialCode:92},af:{name:"Afghanistan",dialCode:93},lk:{name:"Sri Lanka",dialCode:94},mm:{name:"Myanmar",dialCode:95},ir:{name:"Iran, Islamic Republic Of",dialCode:98},ss:{name:"South Sudan",dialCode:211},ma:{name:"Morocco",dialCode:212},eh:{name:"Western Sahara",dialCode:212},dz:{name:"Algeria",dialCode:213},tn:{name:"Tunisia",dialCode:216},ly:{name:"Libya",dialCode:218},gm:{name:"Gambia",dialCode:220},sn:{name:"Senegal",dialCode:221},mr:{name:"Mauritania",dialCode:222},ml:{name:"Mali",dialCode:223},gn:{name:"Guinea",dialCode:224},ci:{name:"Côte D'Ivoire",dialCode:225},bf:{name:"Burkina Faso",dialCode:226},ne:{name:"Niger",dialCode:227},tg:{name:"Togo",dialCode:228},bj:{name:"Benin",dialCode:229},mu:{name:"Mauritius",dialCode:230},lr:{name:"Liberia",dialCode:231},sl:{name:"Sierra Leone",dialCode:232},gh:{name:"Ghana",dialCode:233},ng:{name:"Nigeria",dialCode:234},td:{name:"Chad",dialCode:235},cf:{name:"Central African Republic",dialCode:236},cm:{name:"Cameroon",dialCode:237},cv:{name:"Cape Verde",dialCode:238},st:{name:"Sao Tome and Principe",dialCode:239},gq:{name:"Equatorial Guinea",dialCode:240},ga:{name:"Gabon",dialCode:241},cg:{name:"Congo",dialCode:242},cd:{name:"Congo, The Democratic Republic Of The",dialCode:243},ao:{name:"Angola",dialCode:244},gw:{name:"Guinea-Bissau",dialCode:245},io:{name:"British Indian Ocean Territory",dialCode:246},sc:{name:"Seychelles",dialCode:248},sd:{name:"Sudan",dialCode:249},rw:{name:"Rwanda",dialCode:250},et:{name:"Ethiopia",dialCode:251},so:{name:"Somalia",dialCode:252},dj:{name:"Djibouti",dialCode:253},ke:{name:"Kenya",dialCode:254},tz:{name:"Tanzania, United Republic of",dialCode:255},ug:{name:"Uganda",dialCode:256},bi:{name:"Burundi",dialCode:257},mz:{name:"Mozambique",dialCode:258},zm:{name:"Zambia",dialCode:260},mg:{name:"Madagascar",dialCode:261},yt:{name:"Mayotte",dialCode:262},re:{name:"Réunion",dialCode:262},zw:{name:"Zimbabwe",dialCode:263},na:{name:"Namibia",dialCode:264},mw:{name:"Malawi",dialCode:265},ls:{name:"Lesotho",dialCode:266},bw:{name:"Botswana",dialCode:267},sz:{name:"Swaziland",dialCode:268},km:{name:"Comoros",dialCode:269},sh:{name:"Saint Helena",dialCode:290},er:{name:"Eritrea",dialCode:291},aw:{name:"Aruba",dialCode:297},fo:{name:"Faroe Islands",dialCode:298},gl:{name:"Greenland",dialCode:299},gi:{name:"Gibraltar",dialCode:350},pt:{name:"Portugal",dialCode:351},lu:{name:"Luxembourg",dialCode:352},ie:{name:"Ireland",dialCode:353},is:{name:"Iceland",dialCode:354},al:{name:"Albania",dialCode:355},mt:{name:"Malta",dialCode:356},cy:{name:"Cyprus",dialCode:357},ax:{name:"Åland Islands",dialCode:358},fi:{name:"Finland",dialCode:358},bg:{name:"Bulgaria",dialCode:359},lt:{name:"Lithuania",dialCode:370},lv:{name:"Latvia",dialCode:371},ee:{name:"Estonia",dialCode:372},md:{name:"Moldova, Republic of",dialCode:373},am:{name:"Armenia",dialCode:374},by:{name:"Belarus",dialCode:375},ad:{name:"Andorra",dialCode:376},mc:{name:"Monaco",dialCode:377},sm:{name:"San Marino",dialCode:378},ua:{name:"Ukraine",dialCode:380},rs:{name:"Serbia",dialCode:381},me:{name:"Montenegro",dialCode:382},hr:{name:"Croatia",dialCode:385},si:{name:"Slovenia",dialCode:386},ba:{name:"Bosnia and Herzegovina",dialCode:387},mk:{name:"Macedonia, the Former Yugoslav Republic Of",dialCode:389},cz:{name:"Czech Republic",dialCode:420},sk:{name:"Slovakia",dialCode:421},li:{name:"Liechtenstein",dialCode:423},gs:{name:"South Georgia and the South Sandwich Islands",dialCode:500},fk:{name:"Falkland Islands (Malvinas)",dialCode:500},bz:{name:"Belize",dialCode:501},gt:{name:"Guatemala",dialCode:502},sv:{name:"El Salvador",dialCode:503},hn:{name:"Honduras",dialCode:504},ni:{name:"Nicaragua",dialCode:505},cr:{name:"Costa Rica",dialCode:506},pa:{name:"Panama",dialCode:507},pm:{name:"Saint Pierre And Miquelon",dialCode:508},ht:{name:"Haiti",dialCode:509},bl:{name:"Saint Barthélemy",dialCode:590},mf:{name:"Saint Martin",dialCode:590},gp:{name:"Guadeloupe",dialCode:590},bo:{name:"Bolivia",dialCode:591},gy:{name:"Guyana",dialCode:592},ec:{name:"Ecuador",dialCode:593},gf:{name:"French Guiana",dialCode:594},py:{name:"Paraguay",dialCode:595},mq:{name:"Martinique",dialCode:596},sr:{name:"Suriname",dialCode:597},uy:{name:"Uruguay",dialCode:598},an:{name:"Netherlands Antilles",dialCode:599},bq:{name:"Bonaire, Sint Eustatius and Saba",dialCode:599},cw:{name:"Curaçao",dialCode:599},tl:{name:"Timor-Leste",dialCode:670},aq:{name:"Antarctica",dialCode:672},nf:{name:"Norfolk Island",dialCode:672},bn:{name:"Brunei Darussalam",dialCode:673},nr:{name:"Nauru",dialCode:674},pg:{name:"Papua New Guinea",dialCode:675},to:{name:"Tonga",dialCode:676},sb:{name:"Solomon Islands",dialCode:677},vu:{name:"Vanuatu",dialCode:678},fj:{name:"Fiji",dialCode:679},pw:{name:"Palau",dialCode:680},wf:{name:"Wallis and Futuna",dialCode:681},ck:{name:"Cook Islands",dialCode:682},nu:{name:"Niue",dialCode:683},ws:{name:"Samoa",dialCode:685},ki:{name:"Kiribati",dialCode:686},nc:{name:"New Caledonia",dialCode:687},tv:{name:"Tuvalu",dialCode:688},pf:{name:"French Polynesia",dialCode:689},tk:{name:"Tokelau",dialCode:690},fm:{name:"Micronesia, Federated States Of",dialCode:691},mh:{name:"Marshall Islands",dialCode:692},kp:{name:"Korea, Democratic People's Republic Of",dialCode:850},hk:{name:"Hong Kong",dialCode:852},mo:{name:"Macao",dialCode:853},kh:{name:"Cambodia",dialCode:855},la:{name:"Lao People's Democratic Republic",dialCode:856},bd:{name:"Bangladesh",dialCode:880},tw:{name:"Taiwan, Republic Of China",dialCode:886},mv:{name:"Maldives",dialCode:960},lb:{name:"Lebanon",dialCode:961},jo:{name:"Jordan",dialCode:962},sy:{name:"Syrian Arab Republic",dialCode:963},iq:{name:"Iraq",dialCode:964},kw:{name:"Kuwait",dialCode:965},sa:{name:"Saudi Arabia",dialCode:966},ye:{name:"Yemen",dialCode:967},om:{name:"Oman",dialCode:968},ps:{name:"Palestinian Territory, Occupied",dialCode:970},ae:{name:"United Arab Emirates",dialCode:971},il:{name:"Israel",dialCode:972},bh:{name:"Bahrain",dialCode:973},qa:{name:"Qatar",dialCode:974},bt:{name:"Bhutan",dialCode:975},mn:{name:"Mongolia",dialCode:976},np:{name:"Nepal",dialCode:977},tj:{name:"Tajikistan",dialCode:992},tm:{name:"Turkmenistan",dialCode:993},az:{name:"Azerbaijan",dialCode:994},ge:{name:"Georgia",dialCode:995},kg:{name:"Kyrgyzstan",dialCode:996},uz:{name:"Uzbekistan",dialCode:998}}},enumerable:!0,configurable:!0}),s.countryCollection=function(){var e=_.map(s.COUNTRY_CODES,function(e,a){if("us"!==a)return[e.name,a.toUpperCase()]});return[["United States","US"]].concat(e)},s.fieldToLabel=function(e,a){return void 0===a&&(a=!0),e=(e||"").toString().toLowerCase(),/\_hashed\_/g.test(e)&&(e=e.split(/\_hashed\_/g).slice(1).join("_hashed_")),/\_hashes$/g.test(e)&&(e=pluralize(e.replace(/\_hashes$/g,""))),/\_hashes\_summed\_/g.test(e)&&(e="sum_of_"+pluralize(e.split(/\_hashes\_/)[0])+"_"+e.split(/\_hashes\_summed\_/).slice(1).join("_hashes_")),a?s.labelize(e):s.hintize(e)},s.addDataAttsToFieldHelp=function(e,a,i){if(i=_.defaults(i||{},{}),v_utilities_1.VUtilities.isObject(a)&&v_utilities_1.VUtilities.isObject(e)){var t=e.input_html||{},l=_.defaults(a,t.data||{});t.data=l,e.input_html=t}return e},s.setAltDependencies=function(e,a,i){var t=(e=e||{}).input_html||{},l=((t.class||"")+" isDependent").trim();t.class=l;var n=t.data||{};return n=_.defaults({alt_dependencies:a,alt_dependency_values:i},n),t.data=n,e=_.defaults({input_html:t,alt_dependencies:a,alt_dependency_values:i},e)},s.buildGeneratedNames=function(e,a,i){var t,l,n;i=_.defaults(i||{},{}),a=_.defaults(a||{},{});var d,r="";t=v_utilities_1.VUtilities.makeString(a.input_name||e),i.question&&(t=t.replace(/^(?:ha|i)s\_/g,"").replace(/\_else\_applicability/gi,"").replace(/\_applicability/gi,"")),i.percent&&(t=t.replace(/(\b|_)perc(?:ent)?(?:age)?(\b|_)/gi,"_percentage_")),i.percent_threshold&&(t=t.replace(/\_threshold\_perc(?:ent)?/gi,"").replace(/\_percent/gi,"").replace(/percent\_/gi,"").replace(/\_perc/gi,"")+"_percent"),i.organization_state&&(t=t.replace(/\_?org(?:anization|anisation)\_state/gi,"_organization_state")),i.v_sig&&(t+=" Signature"),t=t.replace(/(?:^_+)|(?:_+$)/g,"").replace(/_+/,"_"),l=s.fieldToLabel(t,!0),d=s.fieldToLabel(t,!1),i.question&&(l+="?",d+="?"),i.percent_threshold&&(d+='. 50 is interpreted as "a majority".'),i.db_key&&(d+=" (DB record key)"),i.db_timestamp&&(d+=" (DB timestamp)",r="Entry "+("updated_at"===e?"Last ":"")+l),i.event_type&&(d+=" ("+i.event_type+")",r=l+" ("+s.labelize(i.event_type)+")"),n=l,i.percent&&(n=n.replace(/percentage/gi,"%"));var o={input_name:e.toString(),label:l,display_name:l,terse_display_name:n,hint:d,required:!1};return r&&(o.verbose_display_name=r),_.defaults(a,o)},s.buildGeneratedPercentNames=function(e,a){return s.buildGeneratedNames(e,a,{percent:!0})},s.buildGeneratedPercentThresholdNames=function(e,a){return s.buildGeneratedNames(e,a,{percent_threshold:!0})},s.buildBase=function(e,a,i){return i=_.defaults(i||{},{}),a=_.defaults(a||{},{}),_.defaults(a,_.defaults(e?s.buildGeneratedNames(e,{},i):{},{editable:!0,required:!1,as:"string",fill_approach:"manual",display:!0,default_visible:!0}))},s.buildBaseString=function(e,a){return _.chain(a||{}).defaults({placeholder:"Type value_",custom_input_size:"4"}).defaults(s.buildBase(e)).value()},s.buildString=function(e){return _.defaults(e||{},s.buildBaseString((e||{input_name:null}).input_name||"value"))},s.buildGeneratedString=function(e,a){return _.defaults(a||{},s.buildBaseString(e,{hint:null}))},s.buildBaseTextarea=function(e,a){return _.chain(a||{}).defaults({field_type:"textarea",placeholder:"Type detail_",as:"text",input_html:{rows:"5"},custom_input_size:"4",default_visible:!1}).defaults(s.buildBase(e)).value()},s.buildTextarea=function(e){return _.defaults(e||{},s.buildBaseTextarea("detail"))},s.buildGeneratedTextarea=function(e,a){return void 0===a&&(a={}),_.defaults(a||{},s.buildBaseTextarea(e,{hint:null}))},s.buildBasePositiveInteger=function(e,a){return _.chain(a||{}).defaults({field_type:"positive_integer",placeholder:"E.g., 1,000",type_cast:"integer",input_html:{class:"add-on-integer inputmask-positive-integer"},custom_input_size:"3",sum_type:"num",display_with:"variable_integer",use_formatters:!0,formatters:"variable_integer",ng_filter:"variableInteger",js_formatters:"variableInteger",input_formatters:"variable_integer",input_processors:["string_to_integer"]}).defaults(s.buildBase(e)).value()},s.buildPositiveInteger=function(e){return _.defaults(e||{},s.buildBasePositiveInteger("number"))},s.buildGeneratedPositiveInteger=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBasePositiveInteger(e,{hint:null})).value()},s.buildBasePositiveVariableInteger=function(e,a){return _.chain(a||{}).defaults({type_cast:"float",input_html:{class:"add-on-decimal inputmask-positive-decimal"},input_processors:["string_to_decimal"]}).defaults(s.buildBasePositiveInteger(e)).value()},s.buildBasePositiveDecimal=function(e,a){return _.chain(a||{}).defaults({field_type:"positive_decimal",placeholder:"E.g., 0.00001",type_cast:"float",input_html:{class:"add-on-decimal inputmask-positive-decimal"},custom_input_size:"3",sum_type:"dec",display_with:"variable_decimal",ng_filter:"variableDecimal",use_formatters:!0,formatters:"variable_decimal",input_formatters:"variable_decimal",input_processors:["string_to_decimal"]}).defaults(s.buildBase(e)).value()},s.buildPositiveDecimal=function(e){return _.defaults(e||{},s.buildBasePositiveDecimal("precise_number"))},s.buildGeneratedPositiveDecimal=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBasePositiveDecimal(e,{hint:null})).value()},s.buildBaseDollarInteger=function(e,a){return _.chain(a||{}).defaults({field_type:"dollar_integer",placeholder:"E.g., 40,000",type_cast:"integer",input_html:{class:"add-on-dollar inputmask-positive-integer"},custom_input_size:"3",sum_type:"dol",display_with:"currency_integer",use_formatters:!0,formatters:"currency_integer",ng_filter:"currency:$:0",input_formatters:"variable_integer",input_processors:["string_to_integer"]}).defaults(s.buildBase(e)).value()},s.buildDollarInteger=function(e){return _.defaults(e||{},s.buildBaseDollarInteger("dollar_amount"))},s.buildGeneratedDollarInteger=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBaseDollarInteger(e,{hint:null})).value()},s.buildBaseDollarDecimal=function(e,a){return _.chain(a||{}).defaults({field_type:"dollar_precise_decimal",placeholder:"E.g., 0.0001",type_cast:"float",input_html:{class:"add-on-dollar inputmask-positive-decimal"},custom_input_size:"3",sum_type:"dol",display_with:"variable_currency",use_formatters:!0,formatters:"variable_currency",ng_filter:"currency",js_formatters:"variableCurrency",input_formatters:["string_to_decimal","variable_decimal"],input_processors:["string_to_decimal"]}).defaults(s.buildBase(e)).value()},s.buildBasePreciseDollarDecimal=function(e,a){return _.chain(a||{}).defaults({ng_filter:"variableCurrency"}).defaults(s.buildBaseDollarDecimal(e)).value()},s.buildDollarDecimal=function(e){return _.defaults(e||{},s.buildBaseDollarDecimal("cents_dollar_amount"))},s.buildGeneratedDollarDecimal=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBaseDollarDecimal(e,{hint:null})).value()},s.buildBasePercent=function(e,a){return _.chain(a||{}).defaults({field_type:"percent",placeholder:"E.g., 1.5",type_cast:"float",input_html:{class:"add-on-percent inputmask-positive-decimal"},custom_input_size:"2",sum_type:"perc",display_with:"perc_to_perc_str",use_formatters:!0,formatters:"perc_to_perc_str",input_formatters:"decimal_to_str",ng_filter:"percentage:3",input_processors:["string_to_decimal"]}).defaults(s.buildBase(e)).value()},s.buildPercent=function(e){return void 0===e&&(e={}),s.buildBasePercent("percent",e)},s.buildGeneratedPercent=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBasePercent(e,{hint:null})).value()},s.buildBaseDecimalPercent=function(e,a){return _.chain(a||{}).defaults({field_type:"percent_threshold",sum_type:"perc",display_with:"decimal_to_perc_str",formatters:"decimal_to_perc_str",input_formatters:"decimal_to_perc",input_processors:["string_to_decimal","perc_to_decimal"],js_formatters:"decimalToPercStr",jsInputProcessors:"percToDecimal",ng_filter:"decimalToPercStr"}).defaults(s.buildBasePercent(e)).value()},s.buildDecimalPercent=function(e){return s.buildBaseDecimalPercent("decimal_percent",e)},s.buildCalculatedDecimalPercent=function(e,a){return _.chain(a||{}).defaults({fill_approach:"dynamic",editable:!1,adjusted:!0}).defaults(s.buildGeneratedPercentNames(e)).defaults(s.buildBaseDecimalPercent(e)).value()},s.buildBasePercentThreshold=function(e,a){return _.chain(a||{}).defaults({hint:'Threshold Percent.  50 is interpreted as "a majority".',field_type:"percent_threshold",placeholder:"E.g., 50",type_cast:"float",input_html:{class:"add-on-percent inputmask-positive-decimal"},custom_input_size:"2",manually_calculable:!1,sum_type:"num",adjusted:!1,display_with:"variable_integer",use_formatters:!0,formatters:"percent_threshold",input_formatters:"variable_integer",ng_filter:"variableInteger",input_processors:["string_to_decimal"]}).defaults(s.buildGeneratedPercentThresholdNames(e)).defaults(s.buildBase(e)).value()},s.buildPercentThreshold=function(e){return void 0===e&&(e={}),s.buildBasePercentThreshold("percent_threshold",e)},s.buildGeneratedPercentThreshold=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBasePercentThreshold(e,{})).value()},s.buildBaseBoolean=function(e,a,i){return i=_.defaults(i||{},{question:!0}),_.defaults(a,_.defaults({type_cast:"boolean",as:"boolean_buttons",bip_as:"checkbox",input_html:{data:{default_value:!1}},display_with:"bool",ng_filter:"check",use_formatters:!0,formatters:"is_true",js_formatters:"check",input_processors:["is_true"]},s.buildBase(e,{},i)))},s.buildBaseApplicability=function(e,a,i){return _.chain(a).defaults({field_type:"applicability"}).defaults(s.buildBaseBoolean(e)).value()},s.buildApplicability=function(e){return _.chain(e).defaults(s.buildBaseApplicability("applicability")).value()},s.buildYesCheckbox=function(e){return _.chain(e||{}).defaults({label:"Yes?",display_name:"Yes?",hint:"Yes?",formatters:"yes_checkbox",js_formatters:"isTrue"}).defaults(s.buildBaseBoolean("yes_checkbox")).value()},s.buildBooleanFetchedInput=function(e,a,i){a=v_utilities_1.VUtilities.isBlank(a)||e===a?null:a;var t=_.chain(i||{}).defaults({fill_approach:"dynamic",editable:!1,dependency:a,dependency_value:!!a}).defaults(s.buildBaseBoolean(e)).value();return a&&(t=s.setAltDependencies(t,[[a]],[[!0]])),t},s.buildGeneratedApplicability=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBaseApplicability(e,{hint:null})).value()},s.buildGeneratedElseApplicability=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBaseApplicability(e,{hint:null})).value()},s.buildFormCopy=function(e){return void 0===e&&(e={}),_.chain(e||{}).defaults({field_type:"form_copy",input_name:"form_copy",display_name:"Form Copy?",hint:"Is this a form template to be downloaded and filled out later?",label:"Generate Form Only?",readonly_v_asset_types:["PostIncorporation"],required:!0}).defaults(s.buildApplicability()).value()},s.buildAnnotatedCopy=function(e){return void 0===e&&(e={}),_.chain(e||{}).defaults({field_type:"annotated_copy",input_name:"annotated_copy",hint:"Include annotations/comments in the generated document?",label:"Annotated Version?",display_name:"Annotated Version?"}).defaults(s.buildApplicability()).value()},s.buildBaseDatepicker=function(e,a){return _.defaults(a,_.defaults({field_type:"date",placeholder:"YYYY-MM-DD",type_cast:"date",input_html:{class:"col-sm-3 no-default-date inputmask-date",data:{behaviour:"datepicker",date_format:"yyyy-mm-dd"}},custom_input_size:"3",display_with:"format_date",use_formatters:!0,formatters:"format_date",ng_filter:"date:mediumDate",js_formatters:"formatDate"},s.buildBase(e)))},s.buildDatepicker=function(e){return _.defaults(e||{},s.buildBaseDatepicker((e||{input_name:null}).input_name||"datepicker"))},s.buildBaseDatetimepicker=function(e,a){return _.chain(a||{}).defaults({hint:"Select the date",placeholder:"YYYY-MM-DD",type_cast:"datetime",input_html:{class:"no-default-date",data:{behaviour:"datetimepicker",date_format:"yyyy-mm-dd"}},custom_input_size:"3",display_with:"format_datetime",use_formatters:!0,formatters:"format_datetime",ng_filter:"date:'MMM d, y h:mm:ss a Z':'UTC'",input_processors:["coerce_to_datetime"]}).defaults(s.buildBase(e)).value()},s.buildDatetimepicker=function(e){return _.defaults(e||{},s.buildBaseDatetimepicker((e||{input_name:null}).input_name||"datetimepicker"))},s.buildGeneratedDate=function(e,a){return _.defaults(a,s.buildBaseDatepicker(e.toString(),{hint:"Select the date"}))},s.buildBaseOrgState=function(e,a){return _.chain(a||{}).defaults({field_type:"organization_state",fill_approach:"manual",input_html:{class:"acOrgState"},custom_input_size:"2",display:!1,display_with:"state",use_formatters:!0,formatters:"state"}).defaults(s.buildBase(e)).value()},s.buildOrgState=function(e){return _.chain(e).defaults(s.buildBaseOrgState("org_state",{fill_approach:"dynamic",label:"Company Incorporation / Organization State",hint:"State where company incorporated / organized",placeholder:"Select or Type State"})).value()},s.buildGeneratedOrgState=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBaseOrgState(e,{})).value()},s.buildBaseAcState=function(e,a){return _.chain(a||{}).defaults({field_type:"state_or_place",placeholder:"Select or Type State or Place",input_html:{class:"acAddressState"},custom_input_size:"3",display_with:"state",ng_filter:"state",use_formatters:!0,formatters:"state"}).defaults(s.buildBase(e)).value()},s.buildAcState=function(e){return s.buildBaseAcState("state_or_place",e)},s.buildGeneratedAcState=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBaseAcState(e,{})).value()},s.buildBaseAcOrgType=function(e,a){return _.chain(a||{}).defaults({field_type:"entity_type",placeholder:"Select or Type Entity Type",input_html:{class:"acOrgType"},custom_input_size:"3",display_with:"entity_type",use_formatters:!0,formatters:"entity_type"}).defaults(s.buildBase(e)).value()},s.buildAcOrgType=function(e){return s.buildBaseAcOrgType("entity_or_org_type",e)},s.buildGeneratedACOrgType=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBaseAcOrgType(e,{hint:null})).value()},s.buildBaseAcSecurityName=function(e,a){return _.chain(a||{}).defaults({label:"Security Name",display_name:"Security Name",hint:"Use the exact security name in the company's charter (e.g., Series A Preferred Stock).",placeholder:"Start Typing Security Name",custom_input_size:"3",input_html:{class:"acSecurityName"}}).defaults(s.buildBase(e)).value()},s.buildAcSecurityName=function(e){return s.buildBaseAcSecurityName("security_name",e)},s.buildGeneratedAcSecurityName=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBaseAcSecurityName(e,{})).value()},s.buildBasePeriodType=function(e,a){return _.chain(a||{}).defaults({field_type:"period_type",placeholder:"Select Period Type",as:null,other_input_options:{collection:v_tools_1.VTools.SINGULAR_PERIODS,include_blank:"Select Period Type"},custom_input_size:"3"}).defaults(s.buildBase(e)).value()},s.buildPeriodType=function(e){return s.buildBasePeriodType("period_type",e)},s.buildGeneratedPeriodType=function(e,a){return void 0===a&&(a={}),_.chain(a||{}).defaults({}).defaults(s.buildBasePeriodType(e,{hint:null})).value()},s.buildGeneratedVSig=function(e,a){return _.chain(a||{}).defaults({field_type:"v_sig",fill_approach:"dynamic",display:!1}).defaults(s.buildBase(e)).value()},s.buildBaseObjectHashes=function(e,a){return _.chain(a||{}).defaults({field_type:"hashes",fill_approach:"dynamic",display_with:"join_array_of_hashes_values",use_formatters:!0,formatters:"smart_array_of_hash_values"}).defaults(s.buildBase(e)).value()},s.buildObjectHashes=function(e){return s.buildBaseObjectHashes("object_hashes",e)},s.buildGeneratedObjectHashes=function(e,a){return _.defaults(a||{},s.buildBaseObjectHashes(e,{hint:null}))},s.buildBaseVirtualModelHashes=function(e,a){return _.chain(a||{}).defaults({field_type:"hashes",fill_approach:"virtual_model",as:"text",display_with:"hashes_to_lines",use_formatters:!0}).defaults(s.buildBase(e)).value()},s.buildVirtualModelHashes=function(e){return s.buildBaseVirtualModelHashes("virtual_model_hashes",{label:"Virtual Model",hint:"Carefully complete the inputs to model this attribute."})},s.buildGeneratedVirtualModelHashes=function(e,a){return _.chain(a||{}).defaults({fill_approach:"generated_virtual_model"}).defaults(s.buildBaseVirtualModelHashes(e,a)).value()},s.buildHashesSummedBase=function(e,a){return _.chain(a).defaults({fill_approach:"dynamic",editable:!1}).defaults(s.buildBase(e)).value()},s.buildBaseDbKey=function(e,a){return _.chain(a||{}).defaults({placeholder:"E.g., 123",fill_approach:"dynamic",other_input_options:{readonly:!0},default_visible:!1,editable:!1,display:!1}).defaults(s.buildBase(e,{},{db_key:!0})).value()},s.buildDbKey=function(e){return _.defaults(e||{},s.buildBaseDbKey((e||{input_name:null}).input_name||"db_key"))},s.buildBaseDbTimestamp=function(e,a){return _.chain(a||{}).defaults({fill_approach:"dynamic",other_input_options:{readonly:!0},default_visible:!1,editable:!1,display:!1}).defaults(s.buildBase(e,{},{db_timestamp:!0})).value()},s.buildDbTimestamp=function(e){return _.defaults(e||{},s.buildBaseDbTimestamp((e||{input_name:null}).input_name||"db_timestamp"))},s.buildBaseSelect=function(e,a){return _.chain(a||{}).defaults({placeholder:null,as:null}).defaults(s.buildBase(e)).value()},s.labelize=v_tools_1.VTools.labelize,s.hintize=v_tools_1.VTools.hintize,s.titleize=v_tools_1.VTools.titleize,s.buildGeneratedOrgType=s.buildGeneratedACOrgType,s.buildBasePercThreshold=s.buildBasePercentThreshold,s.buildPercThreshold=s.buildPercentThreshold,s.buildGeneratedPercThreshold=s.buildGeneratedPercentThreshold,s}();exports.VFieldHelper=VFieldHelper;
